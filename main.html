<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Information page</title>
</head>
<body>
    <div class="nav">
        <div class="nav-head">
            <img src="images/info.png" alt="information logo" height="100px">
            <h1>Informasjon</h1>
        </div>
        <div class="nav-head-2">
            <img src="images/question.png" alt="questionmark logo" height="100px">
            <h2>Quiz</h2>
        </div>
        
    </div>
        <div class="informationSection"><h2>Velg kategori du vil lære om</h2></div>
        <div class="select-section">
            <button id="pokemon-btn" class="pokemon">Pokemon</button>
            <button id="football-btn" class="fotball">Fotball</button>
        </div>
        <div class="filterSection" id="filterSection">

        </div>
        <div class="output" id="outputInfo">
        </div>
    <script src="scripts/pokeArray.js"></script>
    <script src="scripts/fotbArray.js"></script>
    <script>
        let filterSection = document.getElementById("filterSection")
        let showPokemonBtn = document.getElementById("pokemon-btn");
        let showPlayersBtn = document.getElementById("football-btn")
        let output = document.getElementById("outputInfo");
        let searchPokeBtn = document.getElementById("searchPokeBtn");
        

        const allPokemon = getAllPokemon();
        const allPlayers = getAllPlayers();
        
        const createFilterButtons = () => {
            
            output.innerHTML = " ";
            filterSection.innerHTML = `
            <select name="type" id="type" onchange="showPokeType()">
                <option>Velg type</option>
                <option value="Water">Water</option>
                <option value="Fire">Fire</option>
                <option value="Grass">Grass</option>
                <option value="Normal">Normal</option>
                <option value="Poison">Poison</option>
                <option value="Flying">Flying</option>
                <option value="Bug">Bug</option>
            </select>
            <div class="searchPokeName">
                <input type="text" id="txtInput" placeholder="Skriv inn navn til Pokemon" class="txtInput">
                <input class="btnSearchPoke" id="searchPokeBtn" type="button" value="Søk etter Pokemon" onclick="searchPokeName()">
            </div>
            `
            showAllPokemon(allPokemon);
        };

            const showAllPokemon = (pokemons) => {
            output.innerHTML="";
            pokemons.forEach(pokemon =>{
                output.innerHTML += `
                <div class="pokeCard">
                <img src="${pokemon.image}" alt="Image of ${pokemon.name}" width="150px">
                <p>${pokemon.dexNumber}</p>
                <h2> ${pokemon.name} </h2>
                <div class="p">
		 		<b class="p1" style="background:${pokemon.color1}">${pokemon.type1}   </b>
                 <b class="p1" style="background:${pokemon.color2}">${pokemon.type2}</b>
                    </div>               
                `;
            });
        }

        const createFilterButtons2 = () => {
            output.innerHTML = " ";
            filterSection.innerHTML = `
            <select name="type" id="type" onchange="showPlayerPosition()">
                <option>Select position</option>
                <option value="Goalkeeper">GoalKeeper</option>
                <option value="Defender">Defender</option>
                <option value="Midfield">Midfielder</option>
                <option value="Central Attacking Midfield">CAM</option>
                <option value="Right wing">Right Wing</option>
                <option value="Left wing">Left Wing</option>
                <option value="Striker">Striker</option>
            </select>
            <div class="searchPlayerName">
                <input type="text" id="txtInput" placeholder="Skriv inn navn til Spiller" class="txtInput2">
                <input class="btnSearchPoke" id="searchPlayerBtn" type="button" value="Søk etter Spiller" onclick="searchPlayerName()">
            </div>
            `
            showAllPlayers(allPlayers);
        };
        const showAllPlayers = (players) => {
            output.innerHTML="";
            console.log(players)
            players.forEach(player =>{
                output.innerHTML += `
                <div class="playerCard">
                <img class="playerImg" src="${player.playerImg}" alt="Image of ${player.name}">
                <h2> ${player.name}, ${player.age} </h2>
                <p> Ranking: ${player.ranking}</p>
                <div class="p"> 
                <p class="p1">${player.nation},</p>
                <p class="p1">${player.team}</p>     
                </div>  
                <p>${player.position}</p>
                <p>${player.playerInfo}</p>
                `;
            });
        }


        output.innerHTML="";
        showPokemonBtn.addEventListener("click", createFilterButtons);
        showPlayersBtn.addEventListener("click", createFilterButtons2);

        
            const showPokeType = () => {
                const pokeType = document.getElementById("type")
                let type = pokeType.value;
                let selectedType = allPokemon.filter( pokemon => pokemon.type1 === type || pokemon.type2 == type);
                showAllPokemon(selectedType);
                console.log(pokeType.value);
            }
            const searchPokeName = () => {
                const pokeName = document.getElementById("txtInput")
                let name = pokeName.value.toLowerCase();
                let searchedPokemon = allPokemon.filter(pokemon => pokemon.name.toLowerCase().includes(name));
                showAllPokemon(searchedPokemon);
            }

            const showPlayerPosition = () => {
                const playerPosition = document.getElementById("type")
                let position = playerPosition.value;
                let selectedPosition = allPlayers.filter( player => player.position === position);
                showAllPlayers(selectedPosition);
                console.log(playerPosition.value);
            }
            const searchPlayerName = () => {
                const playerName = document.getElementById("txtInput2")
                let name = playerName.value.toLowerCase();
                let searchedPlayers = allPlayers.filter(player => player.name.toLowerCase().includes(name));
                showAllPlayers(searchedPlayers);
            }

    </script>
   
</body>
</html>